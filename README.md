# data-platform-api-request-to-rabbitmq-queue-mapper-sql
data-platform-api-request-to-rabbitmq-queue-mapper-sql は、周辺業務システムやデータ連携基盤内のシステム機構から データ連携基盤のAPIサーバーに対してAPIリクエストが行なわれるときの、データ連携基盤内における、APIリクエストに対する RabbitMQ クライアントのQueueの関連付けをマッピングした情報を保存する、 SQLテーブル を作成するためのレポジトリです。  

# 動作環境
data-platform-api-request-to-rabbitmq-queue-mapper-sql は、Kubernetes上での動作を前提としています。Kubernetesの環境構築後に起動してください。  

# sqlの設定ファイル
data-platform-api-request-to-rabbitmq-queue-mapper-sql には、sqlの設定ファイルとして、以下の sql ファイルが含まれています。

* data-platform-api-request-to-rabbitmq-queue-mapper-sql.sql（データ連携基盤 APIリクエストからのRabbitMQキューマッパー）
* data-platform-api-request-to-rabbitmq-queue-mapper-setup.sql（データ連携基盤 APIリクエストからのRabbitMQキューマッパー セットアップ）


| `APIServiceName`                                   | `APIType` | `RepositoryName`                                                        | `PortNoInRabbitMQ` | `NameOfQueueFrom`                                                                  | SQL                                                                                                                                                                                                                             | 
| -------------------------------------------------- | :-------- | ----------------------------------------------------------------------- | ------------------ | ---------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | 
| DPFM_API_BUSINESS_PARTNER_SRV                      | READ      | data-platform-api-business-partner-reads                                | 30500              | data-platform-api-business-partner-reads-queue-from                                | ('DPFM_API_BUSINESS_PARTNER_SRV', 'READ', 'data-platform-api-business-partner-reads', '30500', 'data-platform-api-business-partner-reads-queue-from')                                                                           | 
| DPFM_API_BUSINESS_PARTNER_SRV                      | CREATE    | data-platform-api-business-partner-creates                              | 30501              | data-platform-api-business-partner-creates-queue-from                              | ('DPFM_API_BUSINESS_PARTNER_SRV', 'CREATE', 'data-platform-api-business-partner-creates', '30501', 'data-platform-api-business-partner-creates-queue-from')                                                                     | 
| DPFM_API_BUSINESS_PARTNER_SRV                      | UPDATE    | data-platform-api-business-partner-updates                              | 30502              | data-platform-api-business-partner-updates-queue-from                              | ('DPFM_API_BUSINESS_PARTNER_SRV', 'UPDATE', 'data-platform-api-business-partner-updates', '30502', 'data-platform-api-business-partner-updates-queue-from')                                                                     | 
| DPFM_API_BUSINESS_PARTNER_SRV                      | CREATE    | data-platform-api-business-partner-pdf-creates                          | 30503              | data-platform-api-business-partner-pdf-creates-queue-from                          | ('DPFM_API_BUSINESS_PARTNER_SRV', 'CREATE', 'data-platform-api-business-partner-pdf-creates', '30503', 'data-platform-api-business-partner-pdf-creates-queue-from')                                                             | 
| DPFM_API_BUSINESS_PARTNER_SRV                      | UPDATE    | data-platform-api-business-partner-pdf-updates                          | 30504              | data-platform-api-business-partner-pdf-updates-queue-from                          | ('DPFM_API_BUSINESS_PARTNER_SRV', 'UPDATE', 'data-platform-api-business-partner-pdf-updates', '30504', 'data-platform-api-business-partner-pdf-updates-queue-from')                                                             | 
| DPFM_API_BUSINESS_PARTNER_SRV                      | DETELE    | data-platform-api-business-partner-pdf-deletes                          | 30505              | data-platform-api-business-partner-pdf-deletes-queue-from                          | ('DPFM_API_BUSINESS_PARTNER_SRV', 'DETELE', 'data-platform-api-business-partner-pdf-deletes', '30505', 'data-platform-api-business-partner-pdf-deletes-queue-from')                                                             | 
| DPFM_API_BUSINESS_PARTNER_SRV                      | CANCEL    | data-platform-api-business-partner-pdf-cancels                          | 30506              | data-platform-api-business-partner-pdf-cancels-queue-from                          | ('DPFM_API_BUSINESS_PARTNER_SRV', 'CANCEL', 'data-platform-api-business-partner-pdf-cancels', '30506', 'data-platform-api-business-partner-pdf-cancels-queue-from')                                                             | 
| DPFM_API_BUSINESS_PARTNER_SRV                      | READ      | data-platform-api-business-partner-pdf-reads                            | 30507              | data-platform-api-business-partner-pdf-reads-queue-from                            | ('DPFM_API_BUSINESS_PARTNER_SRV', 'READ', 'data-platform-api-business-partner-pdf-reads', '30507', 'data-platform-api-business-partner-pdf-reads-queue-from')                                                                   | 
| DPFM_API_BUSINESS_PARTNER_SRV                      | EXCONF    | data-platform-api-business-partner-exconf                               | 30508              | data-platform-api-business-partner-exconf-queue-from                               | ('DPFM_API_BUSINESS_PARTNER_SRV', 'EXCONF', 'data-platform-api-business-partner-exconf', '30508', 'data-platform-api-business-partner-exconf-queue-from')                                                                       | 
                                        | 

# MySQLのセットアップ / Kubernetesの設定 / SQLテーブルの作成方法  
MySQLのセットアップ / Kubernetesの設定 / 具体的なSQLテーブルの作成方法、については、[mysql-kube](https://github.com/latonaio/mysql-kube)を参照ください。
